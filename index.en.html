<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    
    <title>To you...</title>
    <meta name="description" content="Have you lost your reason to live? When you don't know why you should live, find the meaning of life here. A single wise sentence tailored to your emotions and concerns is waiting for you.">
    <meta name="keywords" content="meaning of life, why should I live, reason to live, lethargy, emptiness, burned out, burnout syndrome, depression, anxiety, when you don't know why to live, quotes">
    <link rel="canonical" href="https://yeji.site/index.en.html">

    <link rel="alternate" hreflang="ko" href="https://yeji.site/index.html">
    <link rel="alternate" hreflang="en" href="https://yeji.site/index.en.html">
    <link rel="alternate" hreflang="x-default" href="https://yeji.site/index.html">

    <meta property="og:type" content="website">
    <meta property="og:url" content="https://yeji.site/index.en.html">
    <meta property="og:title" content="To you...">
    <meta property="og:description" content="Find the wisdom that will embrace your heart right now.">
    <meta property="og:image" content="preview.png">
    <meta property="og:site_name" content="Mind Wisdom Gacha">
    <meta property="og:locale" content="en_US">

    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="To you...">
    <meta name="twitter:description" content="A sentence of comfort for you in emptiness and lethargy.">
    <meta name="twitter:image" content="preview.png">

    <link rel="apple-touch-icon" sizes="180x180" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%23fca311' d='M12 17.27L18.18 21L16.54 13.97L22 9.24L14.81 8.63L12 2L9.19 8.63L2 9.24L7.46 13.97L5.82 21L12 17.27Z'/%3E%3C/svg%3E">
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%23fca311' d='M12 17.27L18.18 21L16.54 13.97L22 9.24L14.81 8.63L12 2L9.19 8.63L2 9.24L7.46 13.97L5.82 21L12 17.27Z'/%3E%3C/svg%3E">
    <meta name="theme-color" content="#ffffff">

    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebSite",
      "url": "https://yeji.site/",
      "name": "Mind Wisdom Gacha",
      "potentialAction": {
        "@type": "SearchAction",
        "target": "https://yeji.site/",
        "query-input": "required name=search_term_string"
      }
    }
    </script>
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebPage",
      "name": "To you...",
      "description": "A service that provides sentences of wisdom to help you find the meaning of life when you have lost your reason to live.",
      "mainEntity": {
        "@type": "HowTo",
        "name": "Finding a Sentence of Wisdom for Your Heart",
        "description": "Receive a personalized sentence of comfort that will help you answer 'the reason to live' by diagnosing your current emotions in three steps.",
        "step": [
          {
            "@type": "HowToStep",
            "name": "Select Emotion",
            "text": "Take the first step in contemplating 'why you should live' by choosing the emotion closest to your heart (e.g., emptiness, powerlessness)."
          },
          {
            "@type": "HowToStep",
            "name": "Identify the Cause",
            "text": "Begin the process of finding the meaning of life by contemplating where that emotion comes from (e.g., relationships, career)."
          },
          {
            "@type": "HowToStep",
            "name": "Obtain Wisdom",
            "text": "Choose the type of comfort you need and get a small clue about 'the reason to live' through a single sentence of wisdom."
          }
        ]
      }
    }
    </script>

    <link rel="preload" as="style" href="style.css">
    <link rel="stylesheet" href="style.css">

    <script async src="https://www.googletagmanager.com/gtag/js?id=G-19H951BS8X"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-19H951BS8X');
    </script>

</head>
<body>
    <h1 style="position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0, 0, 0, 0); border: 0;">
        A heart-comforting service for you who are looking for a reason to live and the meaning of life
    </h1>
    <div class="app-container">
        <div class="language-switcher">
            <button class="lang-btn" data-lang="ko">한국어</button>
            <button class="lang-btn" data-lang="en">English</button>
        </div>
        <main class="gacha-container">
            <!-- <h2 class="title">To you who has lost the meaning of life</h2> -->
            <!-- <p class="tagline">A sentence of wisdom for your weary heart, just for you</p> -->
            <!-- 3-Step Question UI -->
            <div class="question-container">
                <div id="question-1" class="question-step">
                    <h2 class="question-title" data-key="q1Title">What emotion is closest to your heart right now?</h2>
                    <div class="options-grid">
                        <button class="option-btn" data-key="empty" data-value="Emptiness">Emptiness</button>
                        <button class="option-btn" data-key="powerless" data-value="Powerlessness">Powerlessness</button>
                        <button class="option-btn" data-key="anxious" data-value="Anxiety">Anxiety</button>
                        <button class="option-btn" data-key="sadness" data-value="Sadness">Sadness</button>
                    </div>
                </div>

                <div id="question-2" class="question-step hidden">
                    <h2 class="question-title" data-key="q2Title">What do you think is the cause of that emotion?</h2>
                    <div class="options-grid">
                        <button class="option-btn" data-key="workCareer" data-value="Work & Career">Work & Career</button>
                        <button class="option-btn" data-key="relationships" data-value="Relationships">Relationships</button>
                        <button class="option-btn" data-key="health" data-value="Health">Health</button>
                        <button class="option-btn" data-key="unknown" data-value="Unknown">Unknown</button>
                    </div>
                </div>

                <div id="question-3" class="question-step hidden">
                    <h2 class="question-title" data-key="q3Title">What kind of comfort do you need most right now?</h2>
                    <div class="options-grid">
                        <button class="option-btn" data-key="gentleComfort" data-value="Gentle Comfort">Gentle Comfort</button>
                        <button class="option-btn" data-key="realisticAdvice" data-value="Realistic Advice">Realistic Advice</button>
                        <button class="option-btn" data-key="philosophicalInsight" data-value="Philosophical Insight">Philosophical Insight</button>
                        <button class="option-btn" data-key="sternAdvice" data-value="Stern Advice">Stern Advice</button>
                    </div>
                    <button id="submit-btn" class="next-btn hidden" data-key="findWisdom">Find Wisdom</button>
                </div>
            </div>
            
            <div id="loading-spinner" class="hidden">
                <div class="spinner"></div>
                <p data-key="loadingMessage">Searching for wisdom just for you...</p>
            </div>

            <!-- Satisfaction Survey after closing ticket -->
            <div class="satisfaction-survey hidden">
                <p class="survey-question" data-key="surveyQuestion"></p>
                <div class="survey-buttons">
                    <button class="survey-btn" id="survey-yes" data-key="surveyYesText"></button>
                    <button class="survey-btn" id="survey-no" data-key="surveyNoText"></button>
                </div>
            </div>
        </main>

        <!-- Result Ticket will be shown here -->
        <div class="result-overlay">
            <div class="result-ticket">
                <div class="ticket-header">                    
                    <button class="close-btn" aria-label="Close">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M18 6L6 18" stroke="#F5F5F5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M6 6L18 18" stroke="#F5F5F5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            
                        </svg>
                    </button>
                </div>
                <div class="ticket-content">
                    <p class="wisdom-intro"></p>
                    <p class="wisdom-text-main"></p>
                    <p class="wisdom-author-main"></p>
                    <p class="wisdom-commentary-main"></p>
                    <p class="wisdom-closing"></p>
                    <p class="mission-text-main"></p>
                    <p class="key-message" data-key="keyMessage"></p>

                </div>
                <div class="ticket-actions">  
                    <button id="report-btn" data-key="getReport">Get Personalized Report</button>
                    <button id="naver-map-link" class="map-btn" onclick="window.open(this.dataset.href, '_blank')" data-href="https://map.naver.com/v5/search/%EC%8B%AC%EB%A6%AC%EC%83%81%EB%8B%B4%EC%84%BC%ED%84%B0">
                        <span data-key="findExpertsNaverMap">Find Experts Nearby</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- Particle effects container -->
        <div class="particles"></div>

    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="main.js"></script>

    <script>
    (function(){
      const mapContainer = document.getElementById('naver-map-link-container');
      const mapLink = document.getElementById('naver-map-link');
      const msg1 = mapContainer ? mapContainer.querySelector('[data-key="naverMapLinkMessage"]') : null;
      const msg2 = mapContainer ? mapContainer.querySelector('[data-key="naverMapLinkMessage2"]') : null;

      const EMOTION_TO_QUERY = {
        empty: '심리상담센터',
        powerless: '번아웃 상담',
        anxious: '정신건강의학과',
        sadness: '우울증 상담'
      };

      // main.js에서 결과를 렌더한 직후에 호출하세요.
      // 예: window.showNaverMapLink('empty');
      window.showNaverMapLink = function(emotionKey){
        try {
          const query = EMOTION_TO_QUERY[emotionKey] || '심리상담센터';
          const encoded = encodeURIComponent(query);
          if (mapLink) mapLink.dataset.href = 'https://map.naver.com/v5/search/' + encoded;
          if (msg1) msg1.textContent = '선택하신 감정에 맞는 전문가를 찾아보실 수 있어요.';
          if (msg2) msg2.textContent = '네이버 지도에서 검색 결과를 확인해보세요. (새 탭에서 열림)';
          if (mapContainer) mapContainer.style.display = 'block';
        } catch (e) {
          // 실패해도 페이지 동작에는 영향 없음
          if (mapContainer) mapContainer.style.display = 'none';
        }
      };
    })();
    </script>

    <script>
    (function(){
      function showToast(text, duration = 3500) {
        if (!text) return;
        const id = 'custom-toast';
        if (document.getElementById(id)) return;
        const toast = document.createElement('div');
        toast.id = id;
        toast.textContent = text;
        Object.assign(toast.style, {
          position: 'fixed',
          left: '50%',
          bottom: '10%',
          transform: 'translateX(-50%) scale(0.9)',
          background: 'rgba(0,0,0,0.85)',
          color: '#fff',
          padding: '12px 20px',
          borderRadius: '25px',
          boxShadow: '0 6px 18px rgba(0,0,0,0.25)',
          zIndex: 9999,
          opacity: '0',
          transition: 'opacity 250ms ease, transform 250ms ease'
        });
        document.body.appendChild(toast);
        
        requestAnimationFrame(() => {
          toast.style.opacity = '1';
          toast.style.transform = 'translateX(-50%) scale(1)';
        });

        setTimeout(() => {
          toast.style.opacity = '0';
          toast.style.transform = 'translateX(-50%) scale(0.9)';
          toast.addEventListener('transitionend', () => toast.remove());
        }, duration);
      }

      // Make showToast global so main.js can use it
      window.showToast = showToast;

      const closeBtn = document.querySelector('.result-overlay .close-btn');
      if (closeBtn) {
        closeBtn.addEventListener('click', () => {
          const overlay = document.querySelector('.result-overlay');
          if (overlay) overlay.style.display = 'none';
          // Show satisfaction survey in gacha-container
          const survey = document.querySelector('.satisfaction-survey');
          if (survey) survey.classList.remove('hidden');
        });
      }

      const overlay = document.querySelector('.result-overlay');
      const ticket = document.querySelector('.result-ticket');

      // Close on overlay click and show survey
      overlay.addEventListener('click', () => {
        overlay.style.display = 'none';
        // Show satisfaction survey in gacha-container
        const survey = document.querySelector('.satisfaction-survey');
        if (survey) survey.classList.remove('hidden');
      });

      // Prevent closing when clicking on the ticket itself
      ticket.addEventListener('click', (e) => {
        e.stopPropagation();
      });
    })();
    </script>
</body>
</html>